<html>

<head>
    <link rel='stylesheet' href="./src/one.css">
    <script>
        const renderPokemonApi = async () => {
            try {
                const response = await fetch('https://pokeapi.co/api/v2/pokemon');
               // console.log(response);
                const data = await response.json();
              //  console.log(data);
                const pokemonArray = data.results.map(async (pokemon) => {
                    const pokemonResponse = await fetch(pokemon.url);
                    const pokemonData = await pokemonResponse.json();
                  console.log(pokemonData);
                    const pokemonInfo = {
                        id: pokemonData.id, name: pokemonData.name, type: pokemonData.types[0].type.name,
                        image: pokemonData.sprites.front_default
                    };
                    return pokemonInfo;
                });
                const pokemonDetails = await Promise.all(pokemonArray);
                //console.log(pokemonDetails);
                for (let index = 0; index < pokemonDetails.length; index++) {
                    createDiv(pokemonDetails[index]);
                }

            } catch (error) {
                console.log('fetching error:', error);
            }
        }
           
        renderPokemonApi();

        const createDiv = (pokemonIndex) => {
            const pokemonName = document.createElement('h2');
            pokemonName.textContent = pokemonIndex.name;
            const pokemonType = document.createElement('p');
            pokemonType.textContent = pokemonIndex.type;
            const pokemonId = document.createElement('p');
            pokemonId.textContent = pokemonIndex.id;
            const pokemonImage = document.createElement('img');
            pokemonImage.src = pokemonIndex.image;
            pokemonImage.alt = pokemonIndex.name;
            return appendedPokemonDetais(pokemonId, pokemonType, pokemonImage, pokemonName);

        }
        const appendedPokemonDetais = (pokemonId, pokemonType, pokemonImage, pokemonName) => {
            const outerDiv = document.getElementById('pokemonImages');
            const pokemonDiv = document.createElement('div');
            pokemonDiv.classList.add('innerDiv');
            pokemonDiv.appendChild(pokemonName);
            pokemonDiv.appendChild(pokemonType);
            pokemonDiv.appendChild(pokemonId);
            pokemonDiv.appendChild(pokemonImage);
            outerDiv.appendChild(pokemonDiv);
        }

      

    </script>
</head>

<body>
    <div id="pokemonImages">
    </div>

</body>

</html>